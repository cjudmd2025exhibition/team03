<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hai-Days</title>
    <link rel="stylesheet" href="style.css">

<style>
	.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	border: 0;
	}

</style>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>

<body>
<!-- 네비게이션 -->
<header class="navbar navbar1">
  <a href="index.html" class="logo">
    <img src="img/Logo.png" alt="하이데이즈 로고">
  </a>
    <nav>
      <ul class="nav-links">
        <li><a href="page1.html">설날</a></li>
        <li><a href="page2.html">추석</a></li>
        <li class="active"><a href="page3.html">행사</a></li>
        <li><a href="page4.html">퀴즈</a></li>
      </ul>
    </nav>
  <div class="hamburger">☰</div>
</header>

<section class="conA_3">
    <div class="hero-bg">
      <picture>
        <source media="(max-width: 768px)" srcset="img/page3/hero_m.png">
        <img src="img/page3/hero.png" alt="Hero 배경" />
      </picture>
    </div>
</section>
  <!-- E : Hero 배경 -->

<!-- S : conA-B 추석 서브 네비바 -->
<div class="fixed-sidebar right-nav">
  <ul>
    <li class="active"><a href="#conB_3">가족 행사</a></li>
    <li><a href="#conC_3">돌잔치</a></li>
    <li><a href="#conD_3">제사</a></li>
  </ul>
</div>
<!-- E : conA-B 추석 서브 네비바 -->
 

<!-- S : conB 돌잔치 비교 -->
<section id="conB_3" class="conB_3">
    <div class="conB-content">
      <img src="img/page3/conB_1.png" class="conB-main" />
    </div>
</section>
<!-- E : conB 돌잔치 비교 -->

<div class="overlap-img-wrap2">
  <img src="img/page3/conB_3.png" class="overlap-img2">
</div>

<!-- S : conC 돌잔치 비교 -->
<section id="conC_3" class="conC_3">
  <div class="container">
  <div class="contentC">
  <div class="title-area common-title">
    <span class="subtitle">돌잔치</span>
    <h2>한국과 베트남에서는 <br class="br-mobile">어떻게 돌잔치를 할까?</h2>
  </div>

  <div class="timeline-wrapper">
        <div class="column-header left"><h3>∙ 한국 ∙</h3></div>
        <div class="column-header right"><h3>∙ 베트남 ∙</h3></div>

        <div class="timeline-container">

            <div class="marker marker-100">100일 <span class="dot"></span></div>
            <div class="marker marker-1m"><span class="dot"></span> 1달</div>
            <div class="marker marker-1y">1주년</div>

            <div class="content-block left block-1">
                <div class="image-placeholder">
                    <img src="./img/page3/conC_1.png" alt="백일잔치 이미지">
                </div>
                <h3>백일잔치</h3>
                <p class="subtitle vietnamese-text">Bách nhật</p>
                <p>아기가 태어나 100일을 넘긴 것을 기념하고, <br>가족들이 모여 아기의 건강과 성장을 함께 축하해요.</p>
            </div>

            <div class="content-block right block-1">
                <div class="image-placeholder">
                    <img src="./img/page3/conC_2.png" alt="데이탕 이미지">
                </div>
                <h3>데이탕</h3>
                <p class="subtitle vietnamese-text">Day tháng</p>
                <p>아기가 태어난 지 한 달이 되는 날, <br>아기를 축복하고 덕담을 전하며 함께 축하해요.</p>
            </div>

            <div class="content-block left block-2">
                <div class="image-placeholder">
                    <img src="./img/page3/conC_3.png" alt="돌잔치 이미지">
                </div>
                <h3>돌잔치</h3>
                <p class="subtitle vietnamese-text">Thôi nôi</p>
                <p>매년 생일날에는 미역국을 꼭 먹어요. <br>아기가 태어난 지 1년이 되는 날을 기념하는 행사예요.</p>
            </div>

            <div class="content-block right block-2">
                <div class="image-placeholder">
                    <img src="./img/page3/conC_4.png" alt="토이노이 이미지">
                </div>
                <h3>토이노이</h3>
                <p class="subtitle vietnamese-text">Thôi nôi</p>
                <p>제단에 올려 아기의 복과 행복을 기원해요. <br>조상과 12명의 신에게 성장 소식을 알리는 의례에요.</p>
            </div>

        </div>
    </div>

    </div>
    </div>
</section>
<!-- E : conC 돌잔치 비교 -->


<!-- S : conD 제사 비교 -->
<section id="conD_3" class="conD_3">
  <div class="contentC">
    <div class="title-area common-title">
      <span class="subtitle">제사</span>
      <h2>한국과 베트남에서 <br class="br-mobile">제사는 어떻게 지낼까?</h2>
    </div>

  <section class="ritual-wrap">
  <!-- 한국 -->
  <div class="ritual korea">
    <h2>∙ 한국 ∙</h2>
    <div class="line"></div>

    <div class="item">
      <div class="text">
        <h3>전·과일</h3>
        <p class="subtitle vietnamese-text">Jeon & Hoa quả</p>
        <p>차례상에 올리는<br>각종 전과 다양한 과일</p>
      </div>
      <img src="img/page3/k1.png" alt="">
    </div>

    <div class="item reverse">
      <img src="img/page3/k2.png" alt="">
      <div class="text">
        <h3>위패</h3>
        <p class="subtitle vietnamese-text">Bài vị</p>
        <p>조상의 이름을 적어<br>제사상에 모시는 상징물</p>
      </div>
    </div>

    <div class="item">
      <div class="text">
        <h3>밥</h3>
        <p class="subtitle vietnamese-text">Cơm</p>
        <p>국과 밥의 위치를<br>바꿔 놓고 숟가락 세우기</p>
      </div>
      <img src="img/page3/k3.png" alt="">
    </div>

    <div class="item reverse">
      <img src="img/page3/k4.png" alt="">
      <div class="text">
        <h3>촛불</h3>
        <p class="subtitle vietnamese-text">Nến</p>
        <p>조상을 기리며<br>차례상에 켜는 불</p>
      </div>
    </div>

    <div class="altar">
      <img src="img/page3/conD_main.png" alt="차례상">
      <h3>차례상</h3>
      <p class="sub vietnamese-text">Mâm ngũ quả</p>
      <p class="desc">명절 아침에 조상께 감사드리기 위해 차리는 상.<br class="text-pc">
      가족이 함께 모여 조상의 은혜를 기리는 의식이에요.</p>
    </div>
  </div>

  <!-- 베트남 -->
  <div class="ritual vietnam">
    <h2>∙ 베트남 ∙</h2>
    <div class="line"></div>

    <div class="item">
      <div class="text">
        <h3>매화꽃</h3>
        <p class="subtitle vietnamese-text">Hoa mai</p>
        <p>새해의 의식과 밝음을<br>상징하며 제단에 장식하는 꽃</p>
      </div>
      <img src="img/page3/v1.png" alt="">
    </div>

    <div class="item reverse">
      <img src="img/page3/v2.png" alt="">
      <div class="text">
        <h3>유골함</h3>
        <p class="subtitle vietnamese-text">Hũ đựng tro cốt</p>
        <p>조상의 유골을 모시며<br>제단에 두는 함</p>
      </div>
    </div>

    <div class="item">
      <div class="text">
        <h3>향</h3>
        <p class="subtitle vietnamese-text">Hương</p>
        <p>조상께 기도와 정성을<br>전하는 의식에 쓰이는 향</p>
      </div>
      <img src="img/page3/v3.png" alt="">
    </div>

    <div class="item reverse">
      <img src="img/page3/v4.png" alt="">
      <div class="text">
        <h3>복숭아꽃</h3>
        <p class="subtitle vietnamese-text">Hoa đào</p>
        <p>사랑과 행운을 상징하며<br>제단에 장식하는 꽃</p>
      </div>
    </div>

    <div class="altar">
      <img src="img/page3/conD_main2.png" alt="조상제단">
      <h3>조상제단</h3>
      <p class="sub vietnamese-text">Mâm ngũ quả</p>
      <p class="desc">집에 늘 마련된 제단에 설날에는 특별히 풍성하게 차려요.<br class="text-pc">
      설 음식과 함께 향과 초를 올리고, 기도와 예를 드려요.</p>
    </div>
  </div>
  </section>
    </div>
</section>
<!-- E : conD 제사 비교 -->



<!-- footer -->
<div class="footer_bg">
  <div class="footer_1">
    <a href="page4.html">
      <img src="img/Quiz1png.png" alt="Quiz" class="Quiz">
    </a>
  </div>
</div>

<footer class="footer">
  <div class="logo_f"> <img src="img/Logo_footer.png" alt="하이데이즈 로고"> </div>

  <div class="footer-copy">
    © 2025 Hai-Days. Discovery, Inc. or its subsidiaries and affiliates.<br class="text-pc">
    All trademarks are the property of their respective owners. All rights reserved.
  </div>
</footer>
<button id="topBtn" title="맨 위로 이동">⬆</button>



<script>
// ✅ 오른쪽 고정 네비바 (행사)
document.addEventListener('DOMContentLoaded', () => {
  const sidebarLinks = document.querySelectorAll('.right-nav a');
  const sections = document.querySelectorAll('#conB_3, #conC_3, #conD_3');

  function updateActiveLink() {
    let current = '';
    const center = window.scrollY + window.innerHeight / 2;
    sections.forEach(sec => {
      const top = sec.offsetTop;
      const bottom = top + sec.offsetHeight;
      if (center >= top && center < bottom) current = sec.id;
    });

    sidebarLinks.forEach(link => {
      link.parentElement.classList.remove('active');
      if (link.getAttribute('href') === `#${current}`) link.parentElement.classList.add('active');
    });
  }

  sidebarLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(link.getAttribute('href'));
      if (target) window.scrollTo({ top: target.offsetTop, behavior: 'smooth' });
    });
  });

  window.addEventListener('scroll', updateActiveLink);
  updateActiveLink();
});


// ✅ conB부터 네비바 표시 (공통)
document.addEventListener('DOMContentLoaded', () => {
  const sidebar = document.querySelector('.fixed-sidebar.right-nav');
  const conB = document.querySelector('[id^="conB_"]'); // conB_1, conB_2 등
  if (!sidebar || !conB) return;

  function toggleSidebar() {
    const triggerY = conB.offsetTop - 100; // conB 상단에서 100px 전쯤부터 표시
    if (window.scrollY < triggerY) {
      sidebar.style.opacity = '0';
      sidebar.style.visibility = 'hidden';
      sidebar.style.pointerEvents = 'none';
    } else {
      sidebar.style.opacity = '1';
      sidebar.style.visibility = 'visible';
      sidebar.style.pointerEvents = 'auto';
    }
  }

  window.addEventListener('scroll', toggleSidebar);
  toggleSidebar();
});






  // 스크롤 시 버튼 표시
  const topBtn = document.getElementById("topBtn");

  // 스크롤 시 버튼 보이기/숨기기
  window.addEventListener("scroll", () => {
    if (window.scrollY > 250) {
      topBtn.classList.add("show");
    } else {
      topBtn.classList.remove("show");
    }
  });

  // 클릭 시 부드럽게 상단 이동
  topBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });


//제사 스크롤 확대
  document.addEventListener("DOMContentLoaded", () => {
  // 제사 섹션 내 모든 ritual 이미지 대상
  const ritualImgs = document.querySelectorAll(".conD_3 .ritual img");

  const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add("visible");
        // 한 번만 실행되게
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.2 });

  ritualImgs.forEach(img => observer.observe(img));
});



//돌잔치 스크롤 인터랙션
document.addEventListener("DOMContentLoaded", () => {
  const timeline = document.querySelector(".conC_3 .timeline-container");
  if (!timeline) return;

  // 진행선 엘리먼트가 없으면 생성
  let progress = timeline.querySelector(".timeline-progress");
  if (!progress) {
    progress = document.createElement("div");
    progress.className = "timeline-progress";
    timeline.appendChild(progress);
  }

  // 스크롤에 따른 진행 계산 (느리게 채우기 + 역스크롤 시 감소)
  const updateProgress = () => {
    const rect = timeline.getBoundingClientRect();
    const vh   = window.innerHeight || document.documentElement.clientHeight;
    const total = rect.height; // 채워질 전체 높이(px)

    // 채우기 시작점을 약간 늦추고(span을 넓혀) "천천히" 보이게
    const START_OFFSET = vh * 0.20; // 화면 하단이 타임라인 상단을 20% 지날 때부터 시작
    const SPAN_FACTOR  = 0.90;      // 값이 클수록 더 천천히 채워짐 (0.7~1.2 권장)
    const span = total + vh * SPAN_FACTOR;

    // raw: 진행 원자료(스크롤 정도). t: 0~1 정규화, filled: 실제 높이(px)
    const raw = (vh - rect.top) - START_OFFSET;
    const t = Math.max(0, Math.min(1, raw / span));
    const filled = t * total;

    progress.style.height = filled + "px";
  };

  // rAF 스로틀
  let ticking = false;
  const onScroll = () => {
    if (!ticking) {
      requestAnimationFrame(() => { updateProgress(); ticking = false; });
      ticking = true;
    }
  };

  window.addEventListener("scroll", onScroll, { passive: true });
  window.addEventListener("resize", onScroll);
  updateProgress(); // 초기 1회
});


// 상단 네비바 스크롤 고정
document.addEventListener('DOMContentLoaded', () => {
    const navbar1 = document.querySelector('header.navbar1');
    let lastScrollY = 0; // 마지막 스크롤 위치
    const threshold = 100; // 내비게이션 바 숨김/표시를 시작할 스크롤 임계값 (px)

    function handleScroll() {
        const currentScrollY = window.scrollY;

        // 1. 페이지 맨 위 (스크롤 0)일 때 처리
        if (currentScrollY === 0) {
            navbar1.classList.add('initial-visible'); // 초기 투명 상태로 보이게
            navbar1.classList.remove('scrolled-visible');
            navbar1.classList.remove('scrolled-hidden');
            lastScrollY = 0; // 스크롤 위치 초기화
            return; // 이후 로직 실행하지 않음
        } 
        
        // 2. 페이지 맨 위가 아니면 initial-visible 제거
        navbar1.classList.remove('initial-visible');

        // 3. 스크롤 임계값을 넘었을 때만 숨김/표시 로직 적용
        if (currentScrollY > threshold) {
            // 스크롤을 올릴 때 (현재 스크롤이 이전 스크롤보다 작을 때)
            if (currentScrollY < lastScrollY) {
                navbar1.classList.add('scrolled-visible'); // 나타남
                navbar1.classList.remove('scrolled-hidden');
            } 
            // 스크롤을 내릴 때 (현재 스크롤이 이전 스크롤보다 클 때)
            else if (currentScrollY > lastScrollY) {
                navbar1.classList.add('scrolled-hidden'); // 숨김
                navbar1.classList.remove('scrolled-visible');
            }
        } else {
            // 임계값 이내에서는 기본적으로 숨김 상태 유지 (또는 원하는 대로)
            // 여기서는 임계값 내에서 스크롤 방향과 상관없이 숨김으로 유지
            navbar1.classList.add('scrolled-hidden'); 
            navbar1.classList.remove('scrolled-visible');
        }

        lastScrollY = currentScrollY; // 현재 스크롤 위치 업데이트
    }

    // 스크롤 이벤트 리스너 추가
    window.addEventListener('scroll', handleScroll);

    // 페이지 로드 시 초기 상태를 한 번 실행하여 설정
    handleScroll();
});
</script>

<script src="script.js"></script>
<script src="scroll-ritual.js"></script>

</body>
</html>